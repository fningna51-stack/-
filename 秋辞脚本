--[[
 .____                  ________ ___.    _____                           __                
 |    |    __ _______   \_____  \\_ |___/ ____\_ __  ______ ____ _____ _/  |_  ___________ 
 |    |   |  |  \__  \   /   |   \| __ \   __\  |  \/  ___// ___\\__  \\   __\/  _ \_  __ \
 |    |___|  |  // __ \_/    |    \ \_\ \  | |  |  /\___ \\  \___ / __ \|  | (  <_> )  | \/
 |_______ \____/(____  /\_______  /___  /__| |____//____  >\___  >____  /__|  \____/|__|   
         \/          \/         \/    \/                \/     \/     \/                   
          \_Welcome to LuaObfuscator.com   (Alpha 0.10.9) ~  Much Love, Ferib 

]]--

local repo = "https://raw.githubusercontent.com/ATLASTEAM01/Obsidian/main/";
local Library = loadstring(game:HttpGet(repo .. "Library.lua"))();
local ThemeManager = loadstring(game:HttpGet(repo .. "addons/ThemeManager.lua"))();
local SaveManager = loadstring(game:HttpGet(repo .. "addons/SaveManager.lua"))();
local Options = Library.Options;
local Toggles = Library.Toggles;
local Window = Library:CreateWindow({Title="秋辞通缉脚本（虽然功能全是盗的）",Footer="1.3",Center=true,AutoShow=true});
local Tabs = {Main=Window:AddTab("主页", "user"),["UI Settings"]=Window:AddTab("UI设置", "settings")};
local MainSettingsBox = Tabs.Main:AddLeftGroupbox("主设置");
MainSettingsBox:AddToggle("EnabledToggle", {Text="（举例）",Default=false}):AddKeyPicker("EnabledKeybind", {Default="RightAlt",SyncToggleState=true,Mode="Toggle"});
Toggles.EnabledToggle:OnChanged(function(Value)
end);
local FlightControl = Tabs.Main:AddLeftGroupbox("人物功能");
local FlyingEnabled = false;
local SpinningEnabled = false;
local FlightSpeed = 50;
local SpinSpeed = 5;
local CurrentAO, CurrentLV, CurrentMoverAttachment;
local FlightConnection;
local Control = {F=0,B=0,L=0,R=0,Q=0,E=0};
local LastControl = {F=0,B=0,L=0,R=0,Q=0,E=0};
local function getControlModule()
	local FlatIdent_8D327 = 0;
	local LocalPlayer;
	local PlayerModule;
	while true do
		if (FlatIdent_8D327 == 0) then
			LocalPlayer = game:GetService("Players").LocalPlayer;
			PlayerModule = LocalPlayer:WaitForChild("PlayerScripts"):WaitForChild("PlayerModule");
			FlatIdent_8D327 = 1;
		end
		if (FlatIdent_8D327 == 1) then
			return require(PlayerModule:WaitForChild("ControlModule"));
		end
	end
end
local function setupBodyMovers(character)
	local FlatIdent_67C40 = 0;
	local hrp;
	local humanoid;
	local moverParent;
	local moverAttachment;
	local alignOrientation;
	local linearVelocity;
	while true do
		if (FlatIdent_67C40 == 3) then
			linearVelocity = Instance.new("LinearVelocity");
			linearVelocity.VectorVelocity = Vector3.new(0, 0, 0);
			linearVelocity.MaxForce = 8999999488;
			linearVelocity.Attachment0 = moverAttachment;
			FlatIdent_67C40 = 4;
		end
		if (FlatIdent_67C40 == 4) then
			linearVelocity.Parent = moverParent;
			return alignOrientation, linearVelocity, humanoid, moverAttachment;
		end
		if (FlatIdent_67C40 == 1) then
			moverAttachment.Name = "FlightAttachment";
			alignOrientation = Instance.new("AlignOrientation");
			alignOrientation.Mode = Enum.OrientationAlignmentMode.OneAttachment;
			alignOrientation.RigidityEnabled = true;
			FlatIdent_67C40 = 2;
		end
		if (FlatIdent_67C40 == 0) then
			hrp = character:WaitForChild("HumanoidRootPart");
			humanoid = character:WaitForChild("Humanoid");
			moverParent = workspace:FindFirstChildOfClass("Terrain") or workspace;
			moverAttachment = Instance.new("Attachment", hrp);
			FlatIdent_67C40 = 1;
		end
		if (FlatIdent_67C40 == 2) then
			alignOrientation.MaxTorque = Vector3.new(8999999488, 8999999488, 8999999488);
			alignOrientation.CFrame = hrp.CFrame;
			alignOrientation.Attachment0 = moverAttachment;
			alignOrientation.Parent = moverParent;
			FlatIdent_67C40 = 3;
		end
	end
end
local function getFlightVector(controlModule)
	local moveVector = controlModule:GetMoveVector();
	local camera = workspace.CurrentCamera;
	Control.F = -moveVector.Z;
	Control.B = moveVector.Z;
	Control.L = -moveVector.X;
	Control.R = moveVector.X;
	Control.Q = moveVector.Y;
	Control.E = -moveVector.Y;
	local UserInputService = game:GetService("UserInputService");
	if UserInputService:IsKeyDown(Enum.KeyCode.W) then
		Control.F = 1;
	end
	if UserInputService:IsKeyDown(Enum.KeyCode.S) then
		Control.B = 1;
	end
	if UserInputService:IsKeyDown(Enum.KeyCode.A) then
		Control.L = 1;
	end
	if UserInputService:IsKeyDown(Enum.KeyCode.D) then
		Control.R = 1;
	end
	if UserInputService:IsKeyDown(Enum.KeyCode.Space) then
		Control.Q = 1;
	end
	if UserInputService:IsKeyDown(Enum.KeyCode.LeftControl) then
		Control.E = 1;
	end
	local flightVector = (camera.CFrame.LookVector * (Control.F - Control.B)) + (camera.CFrame.RightVector * (Control.R - Control.L)) + (Vector3.new(0, 1, 0) * (Control.Q - Control.E));
	return ((flightVector.Magnitude > 0) and flightVector.Unit) or flightVector;
end
local function startFlying()
	local FlatIdent_8199B = 0;
	local LocalPlayer;
	local character;
	local controlModule;
	while true do
		if (FlatIdent_8199B == 2) then
			if CurrentAO then
				CurrentAO:Destroy();
			end
			if CurrentLV then
				CurrentLV:Destroy();
			end
			if CurrentMoverAttachment then
				CurrentMoverAttachment:Destroy();
			end
			FlatIdent_8199B = 3;
		end
		if (FlatIdent_8199B == 3) then
			CurrentAO, CurrentLV, humanoid, CurrentMoverAttachment = setupBodyMovers(character);
			Library:Notify({Title="飞行开启",Content=("速度: " .. FlightSpeed),Duration=2,Icon="check"});
			controlModule = getControlModule();
			FlatIdent_8199B = 4;
		end
		if (FlatIdent_8199B == 1) then
			if not character then
				Library:Notify({Title="飞行失败",Content="无法获取角色",Duration=2,Icon="x"});
				return;
			end
			FlyingEnabled = true;
			SpinningEnabled = false;
			FlatIdent_8199B = 2;
		end
		if (FlatIdent_8199B == 4) then
			FlightConnection = game:GetService("RunService").Heartbeat:Connect(function()
				if (not FlyingEnabled or not CurrentLV or not CurrentAO) then
					local FlatIdent_61B23 = 0;
					while true do
						if (FlatIdent_61B23 == 0) then
							if FlightConnection then
								FlightConnection:Disconnect();
								FlightConnection = nil;
							end
							return;
						end
					end
				end
				local flightVector = getFlightVector(controlModule);
				if (flightVector.Magnitude > 0) then
					local FlatIdent_E652 = 0;
					while true do
						if (0 == FlatIdent_E652) then
							CurrentLV.VelocityConstraintMode = Enum.VelocityConstraintMode.Vector;
							CurrentLV.VectorVelocity = flightVector * FlightSpeed;
							break;
						end
					end
				else
					CurrentLV.VectorVelocity = Vector3.new(0, 0, 0);
				end
				if SpinningEnabled then
					local targetPart = character.Humanoid.SeatPart or character.HumanoidRootPart;
					local spinCFrame = targetPart.CFrame * CFrame.Angles(0, math.rad(SpinSpeed), 0);
					CurrentAO.CFrame = spinCFrame;
				else
					CurrentAO.CFrame = workspace.CurrentCamera.CFrame;
				end
				if character.HumanoidRootPart then
					character.Humanoid.PlatformStand = true;
				end
			end);
			character.AncestryChanged:Connect(function(_, parent)
				if (not parent and FlyingEnabled) then
					stopFlying();
				end
			end);
			break;
		end
		if (FlatIdent_8199B == 0) then
			if FlyingEnabled then
				return;
			end
			LocalPlayer = game:GetService("Players").LocalPlayer;
			character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait();
			FlatIdent_8199B = 1;
		end
	end
end
local function stopFlying()
	local FlatIdent_27957 = 0;
	local LocalPlayer;
	local character;
	while true do
		if (FlatIdent_27957 == 1) then
			Control = {F=0,B=0,L=0,R=0,Q=0,E=0};
			LastControl = {F=0,B=0,L=0,R=0,Q=0,E=0};
			if FlightConnection then
				local FlatIdent_7A75F = 0;
				while true do
					if (FlatIdent_7A75F == 0) then
						FlightConnection:Disconnect();
						FlightConnection = nil;
						break;
					end
				end
			end
			FlatIdent_27957 = 2;
		end
		if (FlatIdent_27957 == 0) then
			if not FlyingEnabled then
				return;
			end
			FlyingEnabled = false;
			SpinningEnabled = false;
			FlatIdent_27957 = 1;
		end
		if (FlatIdent_27957 == 3) then
			if CurrentAO then
				local FlatIdent_1B1BA = 0;
				while true do
					if (FlatIdent_1B1BA == 0) then
						CurrentAO:Destroy();
						CurrentAO = nil;
						break;
					end
				end
			end
			if CurrentLV then
				local FlatIdent_380E8 = 0;
				while true do
					if (FlatIdent_380E8 == 0) then
						CurrentLV:Destroy();
						CurrentLV = nil;
						break;
					end
				end
			end
			if CurrentMoverAttachment then
				local FlatIdent_66799 = 0;
				while true do
					if (FlatIdent_66799 == 0) then
						CurrentMoverAttachment:Destroy();
						CurrentMoverAttachment = nil;
						break;
					end
				end
			end
			FlatIdent_27957 = 4;
		end
		if (FlatIdent_27957 == 2) then
			LocalPlayer = game:GetService("Players").LocalPlayer;
			character = LocalPlayer.Character;
			if (character and character:FindFirstChild("Humanoid")) then
				character.Humanoid.PlatformStand = false;
			end
			FlatIdent_27957 = 3;
		end
		if (FlatIdent_27957 == 4) then
			Library:Notify({Title="飞行关闭",Content="飞行功能已禁用",Duration=2,Icon="x"});
			break;
		end
	end
end
FlightControl:AddToggle("飞行模式", {Text="飞行模式",Default=false,Callback=function(Value)
	if Value then
		startFlying();
	else
		stopFlying();
	end
end});
FlightControl:AddToggle("旋转模式", {Text="旋转模式",Default=false,Callback=function(Value)
	if Value then
		SpinningEnabled = true;
	else
		SpinningEnabled = false;
	end
end});
FlightControl:AddSlider("飞行速度", {Text="飞行速度",Min=1,Max=200,Default=50,Rounding=0,Callback=function(Value)
	local FlatIdent_295EB = 0;
	while true do
		if (FlatIdent_295EB == 0) then
			FlightSpeed = Value;
			if FlyingEnabled then
				Library:Notify({Title="速度已更新",Content=("飞行速度: " .. Value),Duration=1,Icon="zap"});
			end
			break;
		end
	end
end});
FlightControl:AddSlider("旋转速度", {Text="旋转速度",Min=1,Max=50,Default=5,Rounding=0,Callback=function(Value)
	local FlatIdent_981A3 = 0;
	while true do
		if (FlatIdent_981A3 == 0) then
			SpinSpeed = Value;
			if SpinningEnabled then
				Library:Notify({Title="旋转速度已更新",Content=("旋转速度: " .. Value),Duration=1,Icon="refresh-cw"});
			end
			break;
		end
	end
end});
local SpeedHack = false;
local SpeedValue = 16;
local SpeedConnection;
FlightControl:AddToggle("速度增加", {Text="速度增加",Default=false,Callback=function(Value)
	local FlatIdent_6B983 = 0;
	while true do
		if (FlatIdent_6B983 == 0) then
			SpeedHack = Value;
			if Value then
				local FlatIdent_7909D = 0;
				while true do
					if (FlatIdent_7909D == 0) then
						if SpeedConnection then
							SpeedConnection:Disconnect();
						end
						SpeedConnection = game:GetService("RunService").Heartbeat:Connect(function()
							if (game.Players.LocalPlayer.Character and game.Players.LocalPlayer.Character:FindFirstChild("Humanoid")) then
								local FlatIdent_64E40 = 0;
								local hum;
								while true do
									if (FlatIdent_64E40 == 0) then
										hum = game.Players.LocalPlayer.Character.Humanoid;
										if (hum.MoveDirection.Magnitude > 0) then
											game.Players.LocalPlayer.Character:TranslateBy((hum.MoveDirection * SpeedValue) / 10);
										end
										break;
									end
								end
							end
						end);
						break;
					end
				end
			elseif SpeedConnection then
				local FlatIdent_8D1A5 = 0;
				while true do
					if (0 == FlatIdent_8D1A5) then
						SpeedConnection:Disconnect();
						SpeedConnection = nil;
						break;
					end
				end
			end
			break;
		end
	end
end});
FlightControl:AddSlider("速度设置", {Text="速度设置",Min=1,Max=150,Default=16,Rounding=0,Callback=function(Value)
	SpeedValue = Value;
end});
local fovConnection;
FlightControl:AddToggle("扩大视野", {Text="扩大视野",Default=false,Callback=function(Value)
	if Value then
		if fovConnection then
			fovConnection:Disconnect();
		end
		fovConnection = game:GetService("RunService").Heartbeat:Connect(function()
			workspace.CurrentCamera.FieldOfView = 120;
		end);
	elseif fovConnection then
		local FlatIdent_8B523 = 0;
		while true do
			if (FlatIdent_8B523 == 0) then
				fovConnection:Disconnect();
				fovConnection = nil;
				break;
			end
		end
	end
end});
local jumpConn;
FlightControl:AddToggle("无限跳", {Text="无限跳",Default=false,Callback=function(Value)
	if Value then
		if jumpConn then
			jumpConn:Disconnect();
		end
		jumpConn = game:GetService("UserInputService").JumpRequest:Connect(function()
			local FlatIdent_20FB0 = 0;
			local humanoid;
			while true do
				if (0 == FlatIdent_20FB0) then
					humanoid = game:GetService("Players").LocalPlayer.Character and game:GetService("Players").LocalPlayer.Character:FindFirstChildOfClass("Humanoid");
					if humanoid then
						humanoid:ChangeState(Enum.HumanoidStateType.Jumping);
					end
					break;
				end
			end
		end);
	elseif jumpConn then
		local FlatIdent_5B4A8 = 0;
		while true do
			if (FlatIdent_5B4A8 == 0) then
				jumpConn:Disconnect();
				jumpConn = nil;
				break;
			end
		end
	end
end});
local Players = game:GetService("Players");
local LocalPlayer = Players.LocalPlayer;
LocalPlayer.CharacterAdded:Connect(function()
	if FlyingEnabled then
		local FlatIdent_5477B = 0;
		while true do
			if (1 == FlatIdent_5477B) then
				task.wait(0.1);
				startFlying();
				break;
			end
			if (FlatIdent_5477B == 0) then
				task.wait(0.5);
				stopFlying();
				FlatIdent_5477B = 1;
			end
		end
	end
end);
local CombatControl = Tabs.Main:AddRightGroupbox("战斗功能");
local ForceLoadAll = false;
CombatControl:AddToggle("强制加载所有数据", {Text="强制加载所有数据",Default=false,Callback=function(Value)
	ForceLoadAll = Value;
	if Value then
		task.spawn(function()
			local FlatIdent_5998C = 0;
			local devv;
			local Network;
			local Players;
			local RunService;
			local LocalPlayer;
			local loadArea;
			local loadAllGizmos;
			local loadAllPlayers;
			while true do
				if (FlatIdent_5998C == 3) then
					loadAllPlayers = nil;
					function loadAllPlayers()
						for _, player in ipairs(Players:GetPlayers()) do
							if (player.Character and player.Character:FindFirstChild("HumanoidRootPart")) then
								local FlatIdent_3CF01 = 0;
								while true do
									if (FlatIdent_3CF01 == 0) then
										loadArea(player.Character.HumanoidRootPart.Position, 50);
										task.wait(0.1);
										break;
									end
								end
							end
						end
					end
					while ForceLoadAll do
						loadAllGizmos();
						loadAllPlayers();
						loadArea(Vector3.new(0, 0, 0), 1000);
						loadArea(Vector3.new(1000, 0, 1000), 1000);
						loadArea(Vector3.new(-1000, 0, -1000), 1000);
						loadArea(Vector3.new(1000, 0, -1000), 1000);
						loadArea(Vector3.new(-1000, 0, 1000), 1000);
						task.wait(5);
					end
					break;
				end
				if (FlatIdent_5998C == 0) then
					devv = require(game:GetService("ReplicatedStorage").Devv);
					Network = devv.load("Network");
					Players = game:GetService("Players");
					FlatIdent_5998C = 1;
				end
				if (FlatIdent_5998C == 2) then
					function loadArea(position, radius)
						if RunService:IsClient() then
							local FlatIdent_45D37 = 0;
							while true do
								if (FlatIdent_45D37 == 0) then
									pcall(function()
										Network.InvokeServer("requestStreamAround", position, radius);
									end);
									pcall(function()
										Network.FireServer("setReplicationFocus", position);
									end);
									break;
								end
							end
						end
					end
					loadAllGizmos = nil;
					function loadAllGizmos()
						local FlatIdent_6A091 = 0;
						local White;
						while true do
							if (FlatIdent_6A091 == 0) then
								White = workspace:FindFirstChild("Local") and workspace.Local:FindFirstChild("Gizmos") and workspace.Local.Gizmos:FindFirstChild("White");
								if White then
									for _, gizmo in ipairs(White:GetChildren()) do
										if gizmo.PrimaryPart then
											local FlatIdent_882F4 = 0;
											while true do
												if (FlatIdent_882F4 == 0) then
													loadArea(gizmo.PrimaryPart.Position, 50);
													task.wait(0.1);
													break;
												end
											end
										end
									end
								end
								break;
							end
						end
					end
					FlatIdent_5998C = 3;
				end
				if (FlatIdent_5998C == 1) then
					RunService = game:GetService("RunService");
					LocalPlayer = Players.LocalPlayer;
					loadArea = nil;
					FlatIdent_5998C = 2;
				end
			end
		end);
	else
		print("强制加载：关闭");
	end
end});
local AutoShoot = false;
local OriginalShoot = nil;
local ShooterModule = nil;
CombatControl:AddToggle("愤怒机器人[全枪]", {Text="愤怒机器人[全枪]",Default=false,Callback=function(Value)
	AutoShoot = Value;
	if Value then
		task.spawn(function()
			ShooterModule = require(game:GetService("ReplicatedStorage").Client.Wanted.Objects.ClientTool.Components.Guns.Shooter);
			OriginalShoot = ShooterModule._shoot;
			local function createBezierCurve(p0, p1, p2, t)
				return (((1 - t) ^ 2) * p0) + (2 * (1 - t) * t * p1) + ((t ^ 2) * p2);
			end
			local function createBeautifulTrail(origin, targetPos)
				local trailContainer = Instance.new("Folder");
				trailContainer.Name = "MagicTrail";
				trailContainer.Parent = workspace;
				local midPoint = (origin + targetPos) / 2;
				local direction = (targetPos - origin).Unit;
				local perpendicular = Vector3.new(-direction.Z, direction.Y, direction.X) * 3;
				local controlPoint = midPoint + perpendicular + Vector3.new(0, math.random(-3, 3), 0);
				local curvePoints = {};
				local numSegments = 20;
				for i = 0, numSegments do
					local FlatIdent_72421 = 0;
					local t;
					local point;
					while true do
						if (FlatIdent_72421 == 1) then
							table.insert(curvePoints, point);
							break;
						end
						if (FlatIdent_72421 == 0) then
							t = i / numSegments;
							point = createBezierCurve(origin, controlPoint, targetPos, t);
							FlatIdent_72421 = 1;
						end
					end
				end
				for i = 1, #curvePoints - 1 do
					local startPoint = curvePoints[i];
					local endPoint = curvePoints[i + 1];
					local distance = (endPoint - startPoint).Magnitude;
					local beamPart = Instance.new("Part");
					beamPart.Size = Vector3.new(0.15, 0.15, distance);
					beamPart.Anchored = true;
					beamPart.CanCollide = false;
					beamPart.Material = Enum.Material.Neon;
					beamPart.Transparency = 0.3;
					beamPart.CFrame = CFrame.new(startPoint, endPoint) * CFrame.new(0, 0, -distance / 2);
					beamPart.Parent = trailContainer;
					local pointLight = Instance.new("PointLight");
					pointLight.Brightness = 5;
					pointLight.Range = 3;
					pointLight.Color = Color3.fromRGB(0, 170, 255);
					pointLight.Parent = beamPart;
					local particles = Instance.new("ParticleEmitter");
					particles.Size = NumberSequence.new(0.1, 0.3);
					particles.Transparency = NumberSequence.new(0.3, 0.8);
					particles.Lifetime = NumberRange.new(0.5, 1);
					particles.Rate = 50;
					particles.Speed = NumberRange.new(1, 2);
					particles.VelocitySpread = 180;
					particles.Parent = beamPart;
				end
				task.spawn(function()
					local FlatIdent_3B7E2 = 0;
					while true do
						if (FlatIdent_3B7E2 == 0) then
							task.wait(1.5);
							if (trailContainer and trailContainer.Parent) then
								trailContainer:Destroy();
							end
							break;
						end
					end
				end);
				return trailContainer;
			end
			local function hasLineOfSight(shooterPos, targetPos)
				local raycastParams = RaycastParams.new();
				raycastParams.FilterType = Enum.RaycastFilterType.Blacklist;
				raycastParams.FilterDescendantsInstances = {game.Players.LocalPlayer.Character};
				raycastParams.IgnoreWater = true;
				local direction = (targetPos - shooterPos).Unit;
				local distance = (targetPos - shooterPos).Magnitude;
				local raycastResult = workspace:Raycast(shooterPos, direction * distance, raycastParams);
				if raycastResult then
					local FlatIdent_1013A = 0;
					local hitPart;
					while true do
						if (0 == FlatIdent_1013A) then
							hitPart = raycastResult.Instance;
							if hitPart then
								local FlatIdent_77172 = 0;
								local hitCharacter;
								while true do
									if (FlatIdent_77172 == 0) then
										hitCharacter = hitPart:FindFirstAncestorOfClass("Model");
										if (hitCharacter and hitCharacter:FindFirstChild("Humanoid")) then
											return true;
										else
											return false;
										end
										break;
									end
								end
							end
							break;
						end
					end
				end
				return true;
			end
			ShooterModule._shoot = function(self)
				if (not self or not self.tool) then
					return OriginalShoot(self);
				end
				local Players = game:GetService("Players");
				local LocalPlayer = game.Players.LocalPlayer;
				local LocalCharacter = LocalPlayer.Character;
				if not LocalCharacter then
					return OriginalShoot(self);
				end
				local shooterPos = (LocalCharacter.HumanoidRootPart and LocalCharacter.HumanoidRootPart.Position) or LocalCharacter.PrimaryPart.Position;
				local nearestPlayer = nil;
				local nearestDistance = math.huge;
				for _, player in ipairs(Players:GetPlayers()) do
					if ((player ~= LocalPlayer) and player.Character and player.Character:FindFirstChild("HumanoidRootPart")) then
						local targetPos = player.Character.HumanoidRootPart.Position;
						local distance = (shooterPos - targetPos).Magnitude;
						if (hasLineOfSight(shooterPos, targetPos) and (distance < nearestDistance)) then
							local FlatIdent_4223E = 0;
							while true do
								if (FlatIdent_4223E == 0) then
									nearestDistance = distance;
									nearestPlayer = player;
									break;
								end
							end
						end
					end
				end
				if (nearestPlayer and nearestPlayer.Character and nearestPlayer.Character:FindFirstChild("HumanoidRootPart")) then
					local FlatIdent_6AEED = 0;
					local targetPos;
					while true do
						if (FlatIdent_6AEED == 2) then
							if self.tool then
								local FlatIdent_53124 = 0;
								while true do
									if (FlatIdent_53124 == 0) then
										self.tool.shooting = true;
										self.tool.fireDebounce = 0;
										FlatIdent_53124 = 1;
									end
									if (FlatIdent_53124 == 1) then
										self.tool.fireMode = "auto";
										break;
									end
								end
							end
							break;
						end
						if (FlatIdent_6AEED == 0) then
							targetPos = nearestPlayer.Character.HumanoidRootPart.Position;
							self.aimpoint = targetPos;
							FlatIdent_6AEED = 1;
						end
						if (FlatIdent_6AEED == 1) then
							self.aimpoint2 = targetPos;
							if (self.tool.model and self.tool.model.PrimaryPart) then
								local FlatIdent_331F0 = 0;
								local muzzlePos;
								while true do
									if (FlatIdent_331F0 == 0) then
										muzzlePos = self.tool.model.PrimaryPart.Position;
										createBeautifulTrail(muzzlePos, targetPos);
										break;
									end
								end
							else
								createBeautifulTrail(shooterPos, targetPos);
							end
							FlatIdent_6AEED = 2;
						end
					end
				elseif self.tool then
					self.tool.shooting = false;
				end
				return OriginalShoot(self);
			end;
			while AutoShoot do
				if (ShooterModule and ShooterModule._shoot) then
					local tool = game.Players.LocalPlayer.Character and game.Players.LocalPlayer.Character:FindFirstChildWhichIsA("Tool");
					if tool then
						local FlatIdent_4A248 = 0;
						local shooter;
						while true do
							if (0 == FlatIdent_4A248) then
								shooter = tool:FindFirstChild("Shooter");
								if not shooter then
									shooter = {tool=tool};
								end
								FlatIdent_4A248 = 1;
							end
							if (1 == FlatIdent_4A248) then
								pcall(function()
									ShooterModule._shoot(shooter);
								end);
								break;
							end
						end
					end
				end
				task.wait(0.2);
			end
			if OriginalShoot then
				ShooterModule._shoot = OriginalShoot;
			end
		end);
	else
		local FlatIdent_5D802 = 0;
		while true do
			if (FlatIdent_5D802 == 0) then
				print("自动射击：关闭");
				if (ShooterModule and OriginalShoot) then
					ShooterModule._shoot = OriginalShoot;
				end
				break;
			end
		end
	end
end});
local MoneyFarmBox = Tabs.Main:AddRightGroupbox("金钱农场");
local AutoATM = false;
MoneyFarmBox:AddToggle("自动ATM", {Text="自动ATM",Default=AutoATM,Callback=function(Value)
	AutoATM = Value;
	if Value then
		local TimeElapsedATM = 0;
		local TimeoutThresholdATM = 30;
		local RootPart = (game.Players.LocalPlayer.Character or game.Players.LocalPlayer.CharacterAdded:Wait()):WaitForChild("HumanoidRootPart");
		local GizmoFolder = workspace.Local.Gizmos.White;
		local ATMPatrolPoints = {Vector3.new(-1137, 78, -1953),Vector3.new(-44, 63, -2083),Vector3.new(194, 60, -2884),Vector3.new(-412, 106, -1301),Vector3.new(-377, 410, -741),Vector3.new(-985, 380, -1145),Vector3.new(-854, 406, -1505)};
		local function GetBasePart(instance)
			local FlatIdent_8638E = 0;
			while true do
				if (FlatIdent_8638E == 0) then
					if instance:IsA("BasePart") then
						return instance;
					end
					for _, descendant in ipairs(instance:GetDescendants()) do
						if descendant:IsA("BasePart") then
							return descendant;
						end
					end
					break;
				end
			end
		end
		local function IsValidATMTarget(instance)
			local typeAttr = instance:GetAttribute("gizmoType");
			return typeAttr == "ATM";
		end
		local function FindClosestATMTarget()
			local minDistance = math.huge;
			local closestPart = nil;
			for _, item in ipairs(GizmoFolder:GetChildren()) do
				if IsValidATMTarget(item) then
					local FlatIdent_957A4 = 0;
					local part;
					while true do
						if (FlatIdent_957A4 == 0) then
							part = GetBasePart(item);
							if part then
								local FlatIdent_71EE8 = 0;
								local dist;
								while true do
									if (FlatIdent_71EE8 == 0) then
										dist = (RootPart.Position - part.Position).Magnitude;
										if (dist < minDistance) then
											local FlatIdent_89917 = 0;
											while true do
												if (FlatIdent_89917 == 0) then
													closestPart = part;
													minDistance = dist;
													break;
												end
											end
										end
										break;
									end
								end
							end
							break;
						end
					end
				end
			end
			return closestPart;
		end
		local function TeleportTo(target)
			if (typeof(target) ~= "Instance") then
				if (typeof(target) == "Vector3") then
					RootPart.CFrame = CFrame.new(target);
				end
			else
				RootPart.CFrame = target.CFrame * CFrame.new(0, 5, 0);
			end
		end
		local function SpamInteract(duration)
			local FlatIdent_985A2 = 0;
			local start;
			while true do
				if (FlatIdent_985A2 == 0) then
					start = tick();
					while (tick() - start) < duration do
						local FlatIdent_512FF = 0;
						while true do
							if (FlatIdent_512FF == 0) then
								game:GetService("VirtualInputManager"):SendKeyEvent(true, Enum.KeyCode.E, false, game);
								game:GetService("VirtualInputManager"):SendKeyEvent(false, Enum.KeyCode.E, false, game);
								FlatIdent_512FF = 1;
							end
							if (1 == FlatIdent_512FF) then
								task.wait(0.05);
								break;
							end
						end
					end
					break;
				end
			end
		end
		local function ProcessATMCollection(targetPart)
			local start = tick();
			local maxWait = 3;
			while ((tick() - start) < maxWait) and targetPart.Parent and not targetPart:GetAttribute("Collected") do
				task.wait(0.1);
			end
			SpamInteract(1.5);
		end
		task.spawn(function()
			while AutoATM do
				local FlatIdent_F26C = 0;
				local target;
				while true do
					if (FlatIdent_F26C == 1) then
						task.wait(0.7);
						break;
					end
					if (FlatIdent_F26C == 0) then
						target = FindClosestATMTarget();
						if target then
							local FlatIdent_31077 = 0;
							while true do
								if (1 == FlatIdent_31077) then
									SpamInteract(1.5);
									ProcessATMCollection(target);
									FlatIdent_31077 = 2;
								end
								if (FlatIdent_31077 == 0) then
									TeleportTo(target);
									task.wait(0.3);
									FlatIdent_31077 = 1;
								end
								if (2 == FlatIdent_31077) then
									TimeElapsedATM = 0;
									break;
								end
							end
						else
							local FlatIdent_527C6 = 0;
							while true do
								if (FlatIdent_527C6 == 0) then
									TimeElapsedATM = TimeElapsedATM + 0.7;
									TeleportTo(ATMPatrolPoints[math.random(1, #ATMPatrolPoints)]);
									FlatIdent_527C6 = 1;
								end
								if (1 == FlatIdent_527C6) then
									if (TimeoutThresholdATM <= TimeElapsedATM) then
										TimeElapsedATM = 0;
									end
									break;
								end
							end
						end
						FlatIdent_F26C = 1;
					end
				end
			end
		end);
	end
end});
local AutoRegister = false;
MoneyFarmBox:AddToggle("自动收银机", {Text="自动收银机",Default=AutoRegister,Callback=function(Value)
	AutoRegister = Value;
	if Value then
		local TimeElapsedRegister = 0;
		local TimeoutThresholdRegister = 30;
		local RootPart = (game.Players.LocalPlayer.Character or game.Players.LocalPlayer.CharacterAdded:Wait()):WaitForChild("HumanoidRootPart");
		local GizmoFolder = workspace.Local.Gizmos.White;
		local RegisterPatrolPoints = {Vector3.new(-1000, 100, -2000),Vector3.new(-500, 100, -2200),Vector3.new(100, 100, -2500)};
		local function GetBasePart(instance)
			local FlatIdent_65194 = 0;
			while true do
				if (FlatIdent_65194 == 0) then
					if instance:IsA("BasePart") then
						return instance;
					end
					for _, descendant in ipairs(instance:GetDescendants()) do
						if descendant:IsA("BasePart") then
							return descendant;
						end
					end
					break;
				end
			end
		end
		local function IsValidRegisterTarget(instance)
			local FlatIdent_86E18 = 0;
			local typeAttr;
			while true do
				if (FlatIdent_86E18 == 0) then
					typeAttr = instance:GetAttribute("gizmoType");
					return typeAttr == "Register";
				end
			end
		end
		local function FindClosestRegisterTarget()
			local minDistance = math.huge;
			local closestPart = nil;
			for _, item in ipairs(GizmoFolder:GetChildren()) do
				if IsValidRegisterTarget(item) then
					local FlatIdent_C595 = 0;
					local part;
					while true do
						if (FlatIdent_C595 == 0) then
							part = GetBasePart(item);
							if part then
								local FlatIdent_6147E = 0;
								local dist;
								while true do
									if (FlatIdent_6147E == 0) then
										dist = (RootPart.Position - part.Position).Magnitude;
										if (dist < minDistance) then
											local FlatIdent_1E5DB = 0;
											while true do
												if (FlatIdent_1E5DB == 0) then
													closestPart = part;
													minDistance = dist;
													break;
												end
											end
										end
										break;
									end
								end
							end
							break;
						end
					end
				end
			end
			return closestPart;
		end
		local function TeleportTo(target)
			if (typeof(target) ~= "Instance") then
				if (typeof(target) == "Vector3") then
					RootPart.CFrame = CFrame.new(target);
				end
			else
				RootPart.CFrame = target.CFrame * CFrame.new(0, 5, 0);
			end
		end
		local function SpamInteract(duration)
			local FlatIdent_1E4CB = 0;
			local start;
			while true do
				if (FlatIdent_1E4CB == 0) then
					start = tick();
					while (tick() - start) < duration do
						local FlatIdent_1D701 = 0;
						while true do
							if (FlatIdent_1D701 == 0) then
								game:GetService("VirtualInputManager"):SendKeyEvent(true, Enum.KeyCode.E, false, game);
								game:GetService("VirtualInputManager"):SendKeyEvent(false, Enum.KeyCode.E, false, game);
								FlatIdent_1D701 = 1;
							end
							if (1 == FlatIdent_1D701) then
								task.wait(0.05);
								break;
							end
						end
					end
					break;
				end
			end
		end
		local function ProcessRegisterCollection(targetPart)
			local start = tick();
			local maxWait = 2;
			while ((tick() - start) < maxWait) and targetPart.Parent and not targetPart:GetAttribute("Collected") do
				task.wait(0.1);
			end
			SpamInteract(1.2);
		end
		task.spawn(function()
			while AutoRegister do
				local FlatIdent_6066D = 0;
				local target;
				while true do
					if (FlatIdent_6066D == 0) then
						target = FindClosestRegisterTarget();
						if target then
							local FlatIdent_77529 = 0;
							while true do
								if (FlatIdent_77529 == 2) then
									TimeElapsedRegister = 0;
									break;
								end
								if (0 == FlatIdent_77529) then
									TeleportTo(target);
									task.wait(0.3);
									FlatIdent_77529 = 1;
								end
								if (1 == FlatIdent_77529) then
									SpamInteract(1.2);
									ProcessRegisterCollection(target);
									FlatIdent_77529 = 2;
								end
							end
						else
							TimeElapsedRegister = TimeElapsedRegister + 0.7;
							TeleportTo(RegisterPatrolPoints[math.random(1, #RegisterPatrolPoints)]);
							if (TimeoutThresholdRegister <= TimeElapsedRegister) then
								TimeElapsedRegister = 0;
							end
						end
						FlatIdent_6066D = 1;
					end
					if (FlatIdent_6066D == 1) then
						task.wait(0.7);
						break;
					end
				end
			end
		end);
	end
end});
local AutoPickupBox = Tabs.Main:AddLeftGroupbox("自动拾取");
local AutoGold = false;
AutoPickupBox:AddToggle("自动拾取金条", {Text="自动拾取金条",Default=AutoGold,Callback=function(Value)
	AutoGold = Value;
	if Value then
		task.spawn(function()
			local FlatIdent_A446 = 0;
			local GetRootPart;
			while true do
				if (FlatIdent_A446 == 1) then
					while AutoGold do
						local RootPart = GetRootPart();
						local White = workspace:FindFirstChild("Local") and workspace.Local:FindFirstChild("Gizmos") and workspace.Local.Gizmos:FindFirstChild("White");
						if (White and RootPart) then
							for _, Item in ipairs(White:GetChildren()) do
								if ((Item.Name == "Gold Bar") and AutoGold) then
									local Target = Item.PrimaryPart or Item:FindFirstChildWhichIsA("BasePart", true);
									if Target then
										RootPart.CFrame = Target.CFrame * CFrame.new(0, 0, -2.5);
										task.wait(0.2);
										game:GetService("VirtualInputManager"):SendKeyEvent(true, Enum.KeyCode.E, false, game);
										task.wait(0.05);
										game:GetService("VirtualInputManager"):SendKeyEvent(false, Enum.KeyCode.E, false, game);
										repeat
											task.wait(0.1);
										until not Item.Parent or not AutoGold 
									end
								end
								if not AutoGold then
									break;
								end
							end
						end
						task.wait(0.5);
					end
					break;
				end
				if (FlatIdent_A446 == 0) then
					GetRootPart = nil;
					function GetRootPart()
						local FlatIdent_14454 = 0;
						local Character;
						while true do
							if (FlatIdent_14454 == 0) then
								Character = game.Players.LocalPlayer.Character or game.Players.LocalPlayer.CharacterAdded:Wait();
								return Character:WaitForChild("HumanoidRootPart", 5);
							end
						end
					end
					FlatIdent_A446 = 1;
				end
			end
		end);
	end
end});
local AutoWorldItem = false;
AutoPickupBox:AddToggle("自动拾取礼物盒", {Text="自动拾取礼物盒",Default=AutoWorldItem,Callback=function(Value)
	local FlatIdent_3831 = 0;
	while true do
		if (FlatIdent_3831 == 0) then
			AutoWorldItem = Value;
			if Value then
				task.spawn(function()
					local FlatIdent_21E03 = 0;
					local GetRootPart;
					while true do
						if (FlatIdent_21E03 == 1) then
							while AutoWorldItem do
								local FlatIdent_8239F = 0;
								local RootPart;
								local White;
								while true do
									if (FlatIdent_8239F == 1) then
										if (White and RootPart) then
											for _, Item in ipairs(White:GetChildren()) do
												if ((Item.Name == "WorldItem") and AutoWorldItem) then
													local Target = Item.PrimaryPart or Item:FindFirstChildWhichIsA("BasePart", true);
													if Target then
														local FlatIdent_8A8EC = 0;
														while true do
															if (0 == FlatIdent_8A8EC) then
																RootPart.CFrame = Target.CFrame * CFrame.new(0, 0, -2.5);
																task.wait(0.2);
																FlatIdent_8A8EC = 1;
															end
															if (2 == FlatIdent_8A8EC) then
																game:GetService("VirtualInputManager"):SendKeyEvent(false, Enum.KeyCode.E, false, game);
																repeat
																	task.wait(0.1);
																until not Item.Parent or not AutoWorldItem 
																break;
															end
															if (FlatIdent_8A8EC == 1) then
																game:GetService("VirtualInputManager"):SendKeyEvent(true, Enum.KeyCode.E, false, game);
																task.wait(0.05);
																FlatIdent_8A8EC = 2;
															end
														end
													end
												end
												if not AutoWorldItem then
													break;
												end
											end
										end
										task.wait(0.5);
										break;
									end
									if (0 == FlatIdent_8239F) then
										RootPart = GetRootPart();
										White = workspace:FindFirstChild("Local") and workspace.Local:FindFirstChild("Gizmos") and workspace.Local.Gizmos:FindFirstChild("White");
										FlatIdent_8239F = 1;
									end
								end
							end
							break;
						end
						if (FlatIdent_21E03 == 0) then
							GetRootPart = nil;
							function GetRootPart()
								local FlatIdent_2C7C4 = 0;
								local Character;
								while true do
									if (FlatIdent_2C7C4 == 0) then
										Character = game.Players.LocalPlayer.Character or game.Players.LocalPlayer.CharacterAdded:Wait();
										return Character:WaitForChild("HumanoidRootPart", 5);
									end
								end
							end
							FlatIdent_21E03 = 1;
						end
					end
				end);
			else
				print("礼物盒：关闭");
			end
			break;
		end
	end
end});
local LocationTeleportBox = Tabs.Main:AddRightGroupbox("地点传送");
LocationTeleportBox:AddButton("奥菲的价值兑换", function()
	local FlatIdent_40FD3 = 0;
	local p;
	local c;
	local h;
	while true do
		if (FlatIdent_40FD3 == 1) then
			h = c:WaitForChild("HumanoidRootPart");
			h.CFrame = CFrame.new(-2907.68848, 37.1002731, 1444.74817, 0.848566413, 3.9380446e-8, -0.529088855, -1.774107e-8, 1, 4.5977092e-8, 0.529088855, -2.962804e-8, 0.848566413);
			FlatIdent_40FD3 = 2;
		end
		if (FlatIdent_40FD3 == 2) then
			Library:Notify({Title="传送成功",Content="已传送到奥菲的价值兑换",Duration=2,Icon="check"});
			break;
		end
		if (FlatIdent_40FD3 == 0) then
			p = game.Players.LocalPlayer;
			c = p.Character or p.CharacterAdded:Wait();
			FlatIdent_40FD3 = 1;
		end
	end
end);
LocationTeleportBox:AddButton("绿洲银行", function()
	local p = game.Players.LocalPlayer;
	local c = p.Character or p.CharacterAdded:Wait();
	local h = c:WaitForChild("HumanoidRootPart");
	h.CFrame = CFrame.new(-431.537354, 39.6113892, -1400.08313, -0.901108384, -1.61008e-8, -0.433593899, -5.2681104e-9, 1, -2.618487e-8, 0.433593899, -2.1311186e-8, -0.901108384);
	Library:Notify({Title="传送成功",Content="已传送到绿洲银行",Duration=2,Icon="check"});
end);
LocationTeleportBox:AddButton("绿洲城警察", function()
	local FlatIdent_74B46 = 0;
	local p;
	local c;
	local h;
	while true do
		if (FlatIdent_74B46 == 0) then
			p = game.Players.LocalPlayer;
			c = p.Character or p.CharacterAdded:Wait();
			FlatIdent_74B46 = 1;
		end
		if (FlatIdent_74B46 == 2) then
			Library:Notify({Title="传送成功",Content="已传送到绿洲城警察",Duration=2,Icon="check"});
			break;
		end
		if (FlatIdent_74B46 == 1) then
			h = c:WaitForChild("HumanoidRootPart");
			h.CFrame = CFrame.new(2578.02393, 119.169289, -718.579773, -0.395326763, -5.9598324e-8, -0.918540537, -9.65633e-9, 1, -5.232432e-8, 0.918540537, 7.947669e-8, -0.395326763);
			FlatIdent_74B46 = 2;
		end
	end
end);
LocationTeleportBox:AddButton("金库", function()
	local FlatIdent_559FF = 0;
	local p;
	local c;
	local h;
	while true do
		if (FlatIdent_559FF == 1) then
			h = c:WaitForChild("HumanoidRootPart");
			h.CFrame = CFrame.new(-400.492279, 163.151733, -1242.72632, -0.912052214, -1.09039995e-8, -0.410074085, 1.4650267e-8, 1, -5.9174205e-8, 0.410074085, -5.997766e-8, -0.912052214);
			FlatIdent_559FF = 2;
		end
		if (FlatIdent_559FF == 2) then
			Library:Notify({Title="传送成功",Content="已传送到金库",Duration=2,Icon="check"});
			break;
		end
		if (FlatIdent_559FF == 0) then
			p = game.Players.LocalPlayer;
			c = p.Character or p.CharacterAdded:Wait();
			FlatIdent_559FF = 1;
		end
	end
end);
LocationTeleportBox:AddButton("犯罪基地", function()
	local FlatIdent_340E5 = 0;
	local p;
	local c;
	local h;
	while true do
		if (FlatIdent_340E5 == 2) then
			Library:Notify({Title="传送成功",Content="已传送到犯罪基地",Duration=2,Icon="check"});
			break;
		end
		if (FlatIdent_340E5 == 1) then
			h = c:WaitForChild("HumanoidRootPart");
			h.CFrame = CFrame.new(-5981.50586, 37.2680244, 1245.22046, -0.733384013, -3.6538985e-8, -0.679814577, -1.7351333e-8, 1, -3.502984e-8, 0.679814577, -1.38946366e-8, -0.733384013);
			FlatIdent_340E5 = 2;
		end
		if (FlatIdent_340E5 == 0) then
			p = game.Players.LocalPlayer;
			c = p.Character or p.CharacterAdded:Wait();
			FlatIdent_340E5 = 1;
		end
	end
end);
LocationTeleportBox:AddButton("烈焰要塞", function()
	local FlatIdent_73F66 = 0;
	local p;
	local c;
	local h;
	while true do
		if (FlatIdent_73F66 == 1) then
			h = c:WaitForChild("HumanoidRootPart");
			h.CFrame = CFrame.new(-1494.58496, 41.16481, 3364.56055, 0.961387396, 1.07588015e-7, 0.275198698, -9.5233396e-8, 1, -5.8255473e-8, -0.275198698, 2.97983e-8, 0.961387396);
			FlatIdent_73F66 = 2;
		end
		if (FlatIdent_73F66 == 2) then
			Library:Notify({Title="传送成功",Content="已传送到烈焰要塞",Duration=2,Icon="check"});
			break;
		end
		if (FlatIdent_73F66 == 0) then
			p = game.Players.LocalPlayer;
			c = p.Character or p.CharacterAdded:Wait();
			FlatIdent_73F66 = 1;
		end
	end
end);
local PlayerTeleportBox = Tabs.Main:AddLeftGroupbox("玩家传送");
local TargetPlayerName = "";
local TeleportPosition = "前方";
PlayerTeleportBox:AddInput("输入玩家用户名", {Text="玩家名称",Default="",Placeholder="输入玩家名称",Callback=function(Value)
	TargetPlayerName = Value;
end});
PlayerTeleportBox:AddDropdown("传送部位", {Values={"前方","后方","头顶","左侧","右侧"},Default=1,Multi=false,Callback=function(Value)
	TeleportPosition = Value;
end});
PlayerTeleportBox:AddButton("传送一次", function()
	if (TargetPlayerName and (TargetPlayerName ~= "") and TeleportPosition) then
		local targetPlayer = game.Players:FindFirstChild(TargetPlayerName);
		if (targetPlayer and (targetPlayer ~= game.Players.LocalPlayer)) then
			if (targetPlayer.Character and targetPlayer.Character:FindFirstChild("HumanoidRootPart")) then
				local p = game.Players.LocalPlayer;
				local c = p.Character or p.CharacterAdded:Wait();
				local h = c:WaitForChild("HumanoidRootPart");
				local targetCFrame = targetPlayer.Character.HumanoidRootPart.CFrame;
				if (TeleportPosition == "前方") then
					h.CFrame = targetCFrame * CFrame.new(0, 0, -5);
				elseif (TeleportPosition == "后方") then
					h.CFrame = targetCFrame * CFrame.new(0, 0, 5);
				elseif (TeleportPosition == "头顶") then
					h.CFrame = targetCFrame * CFrame.new(0, 5, 0);
				elseif (TeleportPosition == "左侧") then
					h.CFrame = targetCFrame * CFrame.new(-5, 0, 0);
				elseif (TeleportPosition == "右侧") then
					h.CFrame = targetCFrame * CFrame.new(5, 0, 0);
				end
				Library:Notify({Title="传送成功",Content=("已传送到玩家 " .. TargetPlayerName .. " 的" .. TeleportPosition),Duration=2,Icon="check"});
			else
				Library:Notify({Title="传送失败",Content="目标玩家没有角色或缺少HumanoidRootPart",Duration=2,Icon="x"});
			end
		else
			Library:Notify({Title="传送失败",Content="未找到玩家或玩家无效",Duration=2,Icon="x"});
		end
	else
		Library:Notify({Title="传送失败",Content="请输入玩家名称并选择传送位置",Duration=2,Icon="x"});
	end
end);
local FixedTeleport = false;
PlayerTeleportBox:AddToggle("固定传送", {Text="固定传送",Default=false,Callback=function(Value)
	FixedTeleport = Value;
	if Value then
		task.spawn(function()
			while FixedTeleport do
				local FlatIdent_5C0FA = 0;
				while true do
					if (FlatIdent_5C0FA == 0) then
						if (TargetPlayerName and (TargetPlayerName ~= "") and TeleportPosition) then
							local targetPlayer = game.Players:FindFirstChild(TargetPlayerName);
							if (targetPlayer and (targetPlayer ~= game.Players.LocalPlayer)) then
								if (targetPlayer.Character and targetPlayer.Character:FindFirstChild("HumanoidRootPart")) then
									local FlatIdent_2C453 = 0;
									local p;
									local c;
									local h;
									local targetCFrame;
									while true do
										if (FlatIdent_2C453 == 0) then
											p = game.Players.LocalPlayer;
											c = p.Character or p.CharacterAdded:Wait();
											FlatIdent_2C453 = 1;
										end
										if (FlatIdent_2C453 == 1) then
											h = c:WaitForChild("HumanoidRootPart");
											targetCFrame = targetPlayer.Character.HumanoidRootPart.CFrame;
											FlatIdent_2C453 = 2;
										end
										if (FlatIdent_2C453 == 2) then
											if (TeleportPosition == "前方") then
												h.CFrame = targetCFrame * CFrame.new(0, 0, -5);
											elseif (TeleportPosition == "后方") then
												h.CFrame = targetCFrame * CFrame.new(0, 0, 5);
											elseif (TeleportPosition == "头顶") then
												h.CFrame = targetCFrame * CFrame.new(0, 5, 0);
											elseif (TeleportPosition == "左侧") then
												h.CFrame = targetCFrame * CFrame.new(-5, 0, 0);
											elseif (TeleportPosition == "右侧") then
												h.CFrame = targetCFrame * CFrame.new(5, 0, 0);
											end
											break;
										end
									end
								end
							end
						end
						task.wait(0.1);
						break;
					end
				end
			end
		end);
	end
end});
local BypassGroup = Tabs.Main:AddLeftGroupbox("绕过类");
local WeaponModGroup = Tabs.Main:AddLeftGroupbox("武器修改");
local AimBotGroup = Tabs.Main:AddRightGroupbox("自瞄功能");
local ESPGroup = Tabs.Main:AddRightGroupbox("透视功能");
local ImmuneTurret = false;
BypassGroup:AddToggle("绕过炮塔伤害", {Text="绕过炮塔伤害",Default=ImmuneTurret,Callback=function(v)
	local FlatIdent_2C195 = 0;
	while true do
		if (FlatIdent_2C195 == 0) then
			ImmuneTurret = v;
			if v then
				local oldFireServer = game:GetService("ReplicatedStorage").Shared.Core.Network.FireServer;
				game:GetService("ReplicatedStorage").Shared.Core.Network.FireServer = function(self, event, ...)
					local FlatIdent_8770C = 0;
					while true do
						if (FlatIdent_8770C == 0) then
							if ((event == "registerLocalHit") and (... == "Turret")) then
								return nil;
							end
							return oldFireServer(self, event, ...);
						end
					end
				end;
			else
			end
			break;
		end
	end
end});
WeaponModGroup:AddButton("无限子弹", function()
	local Shooter = require(game:GetService("ReplicatedStorage").Client.Wanted.Objects.ClientTool.Components.Guns.Shooter);
	local originalShoot = Shooter._shoot;
	Shooter._shoot = function(self)
		local FlatIdent_6F3E4 = 0;
		while true do
			if (FlatIdent_6F3E4 == 0) then
				self.ammo = 9999;
				self.totalAmmo = 9999;
				FlatIdent_6F3E4 = 1;
			end
			if (FlatIdent_6F3E4 == 1) then
				return originalShoot(self);
			end
		end
	end;
	Library:Notify({Title="成功",Content="无限子弹已启用",Duration=2,Icon="check"});
end);
WeaponModGroup:AddButton("无后坐力", function()
	local FlatIdent_C342 = 0;
	local Shooter;
	local originalShoot;
	while true do
		if (1 == FlatIdent_C342) then
			Shooter._shoot = function(self)
				local FlatIdent_480B4 = 0;
				while true do
					if (FlatIdent_480B4 == 0) then
						self.recoil = {firstShotKick=0,climb=0,spread=0};
						return originalShoot(self);
					end
				end
			end;
			Library:Notify({Title="成功",Content="无后坐力已启用",Duration=2,Icon="check"});
			break;
		end
		if (FlatIdent_C342 == 0) then
			Shooter = require(game:GetService("ReplicatedStorage").Client.Wanted.Objects.ClientTool.Components.Guns.Shooter);
			originalShoot = Shooter._shoot;
			FlatIdent_C342 = 1;
		end
	end
end);
WeaponModGroup:AddButton("无扩散", function()
	local FlatIdent_851CE = 0;
	local Shooter;
	local originalShoot;
	while true do
		if (FlatIdent_851CE == 0) then
			Shooter = require(game:GetService("ReplicatedStorage").Client.Wanted.Objects.ClientTool.Components.Guns.Shooter);
			originalShoot = Shooter._shoot;
			FlatIdent_851CE = 1;
		end
		if (FlatIdent_851CE == 1) then
			Shooter._shoot = function(self)
				local FlatIdent_82AB4 = 0;
				while true do
					if (FlatIdent_82AB4 == 0) then
						self.aim = {spreadAngle=0,zeroing=1000};
						return originalShoot(self);
					end
				end
			end;
			Library:Notify({Title="成功",Content="无扩散已启用",Duration=2,Icon="check"});
			break;
		end
	end
end);
WeaponModGroup:AddButton("快速射击", function()
	local Shooter = require(game:GetService("ReplicatedStorage").Client.Wanted.Objects.ClientTool.Components.Guns.Shooter);
	local originalShoot = Shooter._shoot;
	Shooter._shoot = function(self)
		local FlatIdent_97E60 = 0;
		while true do
			if (0 == FlatIdent_97E60) then
				self.tool.fireDebounce = 0;
				self.tool.fireMode = "auto";
				FlatIdent_97E60 = 1;
			end
			if (FlatIdent_97E60 == 1) then
				return originalShoot(self);
			end
		end
	end;
	Library:Notify({Title="成功",Content="快速射击已启用",Duration=2,Icon="check"});
end);
WeaponModGroup:AddButton("无装弹", function()
	local Shooter = require(game:GetService("ReplicatedStorage").Client.Wanted.Objects.ClientTool.Components.Guns.Shooter);
	local originalShoot = Shooter._shoot;
	Shooter._shoot = function(self)
		local FlatIdent_8CF9A = 0;
		while true do
			if (0 == FlatIdent_8CF9A) then
				self.ammoData = {reloadTime=0,magSize=9999};
				return originalShoot(self);
			end
		end
	end;
	Library:Notify({Title="成功",Content="无装弹已启用",Duration=2,Icon="check"});
end);
local isAiming = false;
local isPredicting = false;
local fov = 50;
local plr = game:GetService("Players").LocalPlayer;
local RunService = game:GetService("RunService");
local Cam = workspace.CurrentCamera;
local targetPart = "Head";
local teamCheck = false;
local aliveCheck = false;
local smoothness = 0.5;
local aimStyle = "平滑";
local isSilentAim = false;
local silentFov = 30;
local isAutoShootOnAim = false;
local shootDelay = 0.1;
local lastShotTime = 0;
local FOVring = Drawing.new("Circle");
FOVring.Visible = false;
FOVring.Thickness = 2;
FOVring.Color = Color3.fromRGB(255, 0, 0);
FOVring.Filled = false;
FOVring.Radius = fov;
FOVring.Position = Vector2.new(Cam.ViewportSize.X / 2, Cam.ViewportSize.Y / 2);
local aimConnection = nil;
local ShooterModule = nil;
local OriginalShoot = nil;
local autoShootConnection = nil;
local isAutoShootingActive = false;
local function getClosestPlayerInFOV()
	local nearest = nil;
	local lastDistance = math.huge;
	local playerMousePos = Vector2.new(Cam.ViewportSize.X / 2, Cam.ViewportSize.Y / 2);
	local fovToUse = fov;
	for _, player in ipairs(game:GetService("Players"):GetPlayers()) do
		if (player ~= plr) then
			local FlatIdent_2458 = 0;
			local character;
			while true do
				if (FlatIdent_2458 == 1) then
					if (character and character:FindFirstChild(targetPart)) then
						if (aliveCheck and (not character:FindFirstChildOfClass("Humanoid") or (character:FindFirstChildOfClass("Humanoid").Health <= 0))) then
							continue;
						end
						local part = character[targetPart];
						local ePos, isVisible = Cam:WorldToViewportPoint(part.Position);
						local screenDistance = (Vector2.new(ePos.x, ePos.y) - playerMousePos).Magnitude;
						if ((screenDistance < fovToUse) and isVisible) then
							if (screenDistance < lastDistance) then
								local FlatIdent_38BA4 = 0;
								while true do
									if (FlatIdent_38BA4 == 0) then
										lastDistance = screenDistance;
										nearest = player;
										break;
									end
								end
							end
						end
					end
					break;
				end
				if (FlatIdent_2458 == 0) then
					if (teamCheck and (player.Team == plr.Team)) then
						continue;
					end
					character = player.Character;
					FlatIdent_2458 = 1;
				end
			end
		end
	end
	return nearest;
end
local function smartAimAt(targetPosition)
	local FlatIdent_8EF6C = 0;
	local currentCFrame;
	local targetDirection;
	while true do
		if (1 == FlatIdent_8EF6C) then
			if (aimStyle == "平滑") then
				local FlatIdent_1BD19 = 0;
				local smoothFactor;
				local lookVector;
				while true do
					if (FlatIdent_1BD19 == 0) then
						smoothFactor = smoothness;
						lookVector = currentCFrame.LookVector:Lerp(targetDirection, smoothFactor);
						FlatIdent_1BD19 = 1;
					end
					if (FlatIdent_1BD19 == 1) then
						Cam.CFrame = CFrame.new(currentCFrame.Position, currentCFrame.Position + lookVector);
						break;
					end
				end
			else
				Cam.CFrame = CFrame.new(currentCFrame.Position, currentCFrame.Position + targetDirection);
			end
			break;
		end
		if (0 == FlatIdent_8EF6C) then
			currentCFrame = Cam.CFrame;
			targetDirection = (targetPosition - currentCFrame.Position).Unit;
			FlatIdent_8EF6C = 1;
		end
	end
end
local function aimLoop()
	local FlatIdent_4CEEC = 0;
	local target;
	while true do
		if (FlatIdent_4CEEC == 1) then
			target = getClosestPlayerInFOV();
			if (target and target.Character and target.Character:FindFirstChild(targetPart)) then
				local FlatIdent_1F33B = 0;
				local part;
				while true do
					if (FlatIdent_1F33B == 1) then
						if (isAutoShootOnAim and ((tick() - lastShotTime) > shootDelay)) then
							local tool = plr.Character and plr.Character:FindFirstChildWhichIsA("Tool");
							if tool then
								lastShotTime = tick();
							end
						end
						break;
					end
					if (FlatIdent_1F33B == 0) then
						part = target.Character[targetPart];
						smartAimAt(part.Position);
						FlatIdent_1F33B = 1;
					end
				end
			end
			break;
		end
		if (FlatIdent_4CEEC == 0) then
			if not isAiming then
				return;
			end
			FOVring.Position = Vector2.new(Cam.ViewportSize.X / 2, Cam.ViewportSize.Y / 2);
			FlatIdent_4CEEC = 1;
		end
	end
end
AimBotGroup:AddToggle("开启自瞄", {Text="开启自瞄",Default=false,Callback=function(v)
	local FlatIdent_53252 = 0;
	while true do
		if (FlatIdent_53252 == 0) then
			isAiming = v;
			FOVring.Visible = v;
			FlatIdent_53252 = 1;
		end
		if (FlatIdent_53252 == 1) then
			if v then
				local FlatIdent_25061 = 0;
				while true do
					if (FlatIdent_25061 == 0) then
						if aimConnection then
							aimConnection:Disconnect();
						end
						aimConnection = RunService.RenderStepped:Connect(aimLoop);
						break;
					end
				end
			elseif aimConnection then
				aimConnection:Disconnect();
				aimConnection = nil;
			end
			break;
		end
	end
end});
AimBotGroup:AddToggle("瞄准时自动射击", {Text="瞄准时自动射击",Default=false,Callback=function(v)
	isAutoShootOnAim = v;
end});
AimBotGroup:AddDropdown("瞄准身体部位", {Values={"头","胸","左手","右手","左腿","右腿"},Default=1,Callback=function(v)
	local FlatIdent_79884 = 0;
	local partMap;
	while true do
		if (FlatIdent_79884 == 0) then
			partMap = {["头"]="Head",["胸"]="UpperTorso",["左手"]="LeftHand",["右手"]="RightHand",["左腿"]="LeftFoot",["右腿"]="RightFoot"};
			targetPart = partMap[v];
			break;
		end
	end
end});
AimBotGroup:AddSlider("FOV范围", {Text="FOV范围",Min=1,Max=500,Default=50,Rounding=0,Callback=function(v)
	local FlatIdent_5D0DC = 0;
	while true do
		if (FlatIdent_5D0DC == 0) then
			fov = v;
			FOVring.Radius = v;
			break;
		end
	end
end});
AimBotGroup:AddSlider("平滑度", {Text="平滑度",Min=0.01,Max=1,Default=0.5,Rounding=2,Callback=function(v)
	smoothness = v;
end});
AimBotGroup:AddToggle("团队检查", {Text="团队检查",Default=false,Callback=function(v)
	teamCheck = v;
end});
AimBotGroup:AddToggle("活体检测", {Text="活体检测",Default=false,Callback=function(v)
	aliveCheck = v;
end});
local ESPEnabled = false;
local ShowBox = false;
local ShowHealth = false;
local ShowName = false;
local ShowDistance = false;
local ShowTracer = false;
local ShowSkeleton = false;
local ShowRadar = false;
local ShowPlayerCount = false;
local ShowWeapon = false;
local ShowFOV = false;
local OutOfViewArrows = false;
local Chams = false;
local TeamCheckESP = false;
local ESPComponents = {};
local espConnection = nil;
local function updateESP()
	local FlatIdent_54124 = 0;
	while true do
		if (FlatIdent_54124 == 0) then
			if not ESPEnabled then
				return;
			end
			for _, player in ipairs(game:GetService("Players"):GetPlayers()) do
				if (player == plr) then
					continue;
				end
				if (TeamCheckESP and (player.Team == plr.Team)) then
					continue;
				end
				local character = player.Character;
				if not character then
					continue;
				end
				local humanoid = character:FindFirstChildOfClass("Humanoid");
				if (not humanoid or (humanoid.Health <= 0)) then
					continue;
				end
				local hrp = character:FindFirstChild("HumanoidRootPart");
				if not hrp then
					continue;
				end
				local position, onScreen = Cam:WorldToViewportPoint(hrp.Position);
				if onScreen then
				end
			end
			break;
		end
	end
end
ESPGroup:AddToggle("启用ESP", {Text="启用ESP",Default=false,Callback=function(v)
	ESPEnabled = v;
	if v then
		local FlatIdent_68E5B = 0;
		while true do
			if (FlatIdent_68E5B == 0) then
				if espConnection then
					espConnection:Disconnect();
				end
				espConnection = RunService.RenderStepped:Connect(updateESP);
				break;
			end
		end
	elseif espConnection then
		local FlatIdent_70C30 = 0;
		while true do
			if (FlatIdent_70C30 == 0) then
				espConnection:Disconnect();
				espConnection = nil;
				break;
			end
		end
	end
end});
ESPGroup:AddToggle("显示方框", {Text="显示方框",Default=false,Callback=function(v)
	ShowBox = v;
end});
ESPGroup:AddToggle("显示血量", {Text="显示血量",Default=false,Callback=function(v)
	ShowHealth = v;
end});
ESPGroup:AddToggle("显示名称", {Text="显示名称",Default=false,Callback=function(v)
	ShowName = v;
end});
ESPGroup:AddToggle("显示距离", {Text="显示距离",Default=false,Callback=function(v)
	ShowDistance = v;
end});
ESPGroup:AddToggle("显示骨骼", {Text="显示骨骼",Default=false,Callback=function(v)
	ShowSkeleton = v;
end});
ESPGroup:AddToggle("团队检查", {Text="团队检查",Default=false,Callback=function(v)
	TeamCheckESP = v;
end});
local function cleanup()
	local FlatIdent_6719E = 0;
	while true do
		if (FlatIdent_6719E == 1) then
			if espConnection then
				local FlatIdent_2C1E9 = 0;
				while true do
					if (FlatIdent_2C1E9 == 0) then
						espConnection:Disconnect();
						espConnection = nil;
						break;
					end
				end
			end
			break;
		end
		if (FlatIdent_6719E == 0) then
			if aimConnection then
				local FlatIdent_14A42 = 0;
				while true do
					if (FlatIdent_14A42 == 0) then
						aimConnection:Disconnect();
						aimConnection = nil;
						break;
					end
				end
			end
			if FOVring then
				FOVring:Remove();
			end
			FlatIdent_6719E = 1;
		end
	end
end
game:GetService("Players").LocalPlayer.CharacterAdded:Connect(function()
	local FlatIdent_259C6 = 0;
	while true do
		if (FlatIdent_259C6 == 0) then
			if isAiming then
				local FlatIdent_3E76B = 0;
				while true do
					if (0 == FlatIdent_3E76B) then
						task.wait(1);
						if not aimConnection then
							aimConnection = RunService.RenderStepped:Connect(aimLoop);
						end
						break;
					end
				end
			end
			if (ESPEnabled and not espConnection) then
				espConnection = RunService.RenderStepped:Connect(updateESP);
			end
			break;
		end
	end
end);
game:GetService("CoreGui").ChildRemoved:Connect(function(child)
	if ((child.Name == "CloudHub") or child.Name:find("Obsidian")) then
		cleanup();
	end
end);
ThemeManager:SetLibrary(Library);
SaveManager:SetLibrary(Library);
SaveManager:IgnoreThemeSettings();
SaveManager:SetIgnoreIndexes({"MenuKeybind"});
SaveManager:SetFolder("UniversalSilentAim/Configs");
SaveManager:BuildConfigSection(Tabs["UI Settings"]);
ThemeManager:ApplyToTab(Tabs["UI Settings"]);
SaveManager:LoadAutoloadConfig();