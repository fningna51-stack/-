do
    local Translations = {
        ["tnine team"] = "tnine 团队",
        ["by messy/pig hacker"] = "有芙同享汉化",
        ["kill aura"] = "杀戮光环",
        ["Public"] = "公开",
        ["Hit"] = "命中",
        ["NinjaStar aura"] = "忍者之星光环",
        ["TPattack(open NinjaStar aura)"] = "传送攻击（开启忍者之星光环）",
        ["buy NinjaStar"] = "购买忍者之星",
        ["money"] = "金钱",
        ["Banana Aura"] = "香蕉光环",
        ["Tomahawk aura"] = "战斧光环",
        ["bypass"] = "绕过",
        ["Protection"] = "保护",
        ["no hit health"] = "无伤血量",
        ["Auto fist"] = "自动攻击",
        ["kill arua"] = "击杀光环",
        ["Stampede arua"] = "踩踏光环",
        ["Grab aura"] = "抓取光环",
        ["ragebot"] = "狂暴辅助",
        ["Hit range"] = "范围",
        ["show ballistic"] = "显示弹道",
        ["auto bank"] = "自动抢银行",
        ["atm farm"] = "ATM刷钱",
        ["Bypass mobile resellers"] = "免费移动经销商",
        ["Bypass premium memes"] = "免费高级表情包",
        ["Bypass flight ban"] = "绕过飞行检测",
        ["Bypass item ban"] = "绕过物品检测",
        ["Bypass combat state"] = "绕过战斗状态",
        ["Auto Armor Penetration"] = "自动破甲",
        ["Auto Mask"] = "自动戴面具",
        ["Auto Heal"] = "自动回血",
        ["Anti Ragdoll"] = "反僵直",
        ["Anti Knockback"] = "反击退",
        ["other"] = "其他",
        ["main"] = "主要",
        ["walkspend"] = "步行速度",
        ["spend"] = "速度",
        ["Unlimited jump"] = "无限跳",
        ["free user"]="打开"
    }

    local function translateText(text)
        if not text or type(text) ~= "string" then return text end
        
        if Translations[text] then
            return Translations[text]
        end
        
        for en, cn in pairs(Translations) do
            if text:find(en) then
                return text:gsub(en, cn)
            end
        end
        
        return text
    end

    local function setupTranslationEngine()
        local success, err = pcall(function()
            local oldIndex = getrawmetatable(game).__newindex
            setreadonly(getrawmetatable(game), false)
            
            getrawmetatable(game).__newindex = newcclosure(function(t, k, v)
                if (t:IsA("TextLabel") or t:IsA("TextButton") or t:IsA("TextBox")) and k == "Text" then
                    v = translateText(tostring(v))
                end
                return oldIndex(t, k, v)
            end)
            
            setreadonly(getrawmetatable(game), true)
        end)
        
        if not success then
            warn("元表劫持失败:", err)
           
            local translated = {}
            local function scanAndTranslate()
                for _, gui in ipairs(game:GetService("CoreGui"):GetDescendants()) do
                    if (gui:IsA("TextLabel") or gui:IsA("TextButton") or gui:IsA("TextBox")) and not translated[gui] then
                        pcall(function()
                            local text = gui.Text
                            if text and text ~= "" then
                                local translatedText = translateText(text)
                                if translatedText ~= text then
                                    gui.Text = translatedText
                                    translated[gui] = true
                                end
                            end
                        end)
                    end
                end
                
                local player = game:GetService("Players").LocalPlayer
                if player and player:FindFirstChild("PlayerGui") then
                    for _, gui in ip(player.PlayerGui:GetDescendants()) do
                        if (gui:IsA("TextLabel") or gui:IsA("TextButton") or gui:IsA("TextBox")) and not translated[gui] then
                            pcall(function()
                                local text = gui.Text
                                if text and text ~= "" then
                                    local translatedText = translateText(text)
                                    if translatedText ~= text then
                                        gui.Text = translatedText
                                        translated[gui] = true
                                    end
                                end
                            end)
                        end
                    end
                end
            end
            
            local function setupDescendantListener(parent)
                parent.DescendantAdded:Connect(function(descendant)
                    if descendant:IsA("TextLabel") or descendant:IsA("TextButton") or descendant:IsA("TextBox") then
                        task.wait(0.1)
                        pcall(function()
                            local text = descendant.Text
                            if text and text ~= "" then
                                local translatedText = translateText(text)
                                if translatedText ~= text then
                                    descendant.Text = translatedText
                                end
                            end
                        end)
                    end
                end)
            end
            
            pcall(setupDescendantListener, game:GetService("CoreGui"))
            local player = game:GetService("Players").LocalPlayer
            if player and player:FindFirstChild("PlayerGui") then
                pcall(setupDescendantListener, player.PlayerGui)
            end
            
            while true do
                scanAndTranslate()
                task.wait(3)
            end
        end
    end

    task.wait(2)
    setupTranslationEngine()

    local success, err = pcall(function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/tnine-n9/tnine/refs/heads/main/free.lua"))()
    end)

    if not success then
        warn("加载失败:", err)
    end
end